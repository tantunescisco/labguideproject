{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Deploy 9800-CL in CloudForms Lab Guide","text":"<p>In this lab, you will learn how to deploy a WLC 9800-CL in CXlabs CloudForms.</p> <p></p> <p>Click 'Next' to Start</p>"},{"location":"Labreport/","title":"Lab Report","text":"<p>You are expected to email hhannoun@cisco.com evidence that you completed the tasks of this lab.</p> <p>For this report include your findings from Task 4. </p>"},{"location":"conclusion/","title":"Congratulations!","text":"<p>You have completed the Deploy 9800-CL in CFME</p> <p>We want to hear from you, please share your experience and feedback to tantunes@cisco.com</p>"},{"location":"lab/","title":"Lab Requirements","text":"<p>There are few requirements for this lab: </p>"},{"location":"lab/#a-acccess-to-cfme","title":"A - Acccess to CFME","text":"<p>You must have acccess to Cisco CloudForms Management Engine (CFME).  To verify if you have access to CFME, go to: CXLABS and select your location.</p> <p>For example, for EMEA choose \"ManageIQ, TS, Brussels\":</p> <p></p> <p>Alternatively, you can visit the CXLabs Wiki to find the direct link to each site.</p>"},{"location":"lab/#b-virtual-machine-console-viewer-installed","title":"B - Virtual Machine Console viewer installed.","text":"<p>Download and install the Virtual Machine Console viewer:</p> <ul> <li> <p>For Windows: VMware Remote Console</p> </li> <li> <p>For Mac: VMware Remote Console</p> </li> <li> <p>For Mac with M1: Download VMWare Remote Console from the App Store</p> </li> </ul>"},{"location":"lab/#c-knowledge-of-cx-labs-rules-and-vlans","title":"C - Knowledge of CX Labs rules and VLANs","text":"<p>Depending on each CXLabs location, there are different ways to access lab devices, different VLANs and IP subnets. Verify with your lab proctor/trainer what are the CXLabs rules you should be aware of and the VLANs and subnets on your location for wireless recreates. For example, in EMEA BRU this is the Engineer Information: BRU Wireless Recreates </p> <p>  This lab guide is based on the TZ article Deploy a 9800-CL WLC in CFME.</p>"},{"location":"overview/","title":"Overview","text":"<p>The Cisco Catalyst 9800-CL Cloud Wireless Controller (referred to as \"controller\" in this document) is a virtual wireless controller that is deployed on a Cisco Unified Computing System (UCS) server as a virtual machine (VM) instance on a Linux-based 64-bit guest operating system. The supported private cloud providers are VMware ESXi, KVM, Hyper-V, and Cisco NFVIS (on ENCS).</p> <p>The controller supports a subset of Cisco IOS XE software features and technologies, providing Cisco IOS XE features on a virtualization platform. When the controller is deployed as a VM, the Cisco IOS XE software functions as if it were deployed on a traditional Cisco hardware platform.</p>"},{"location":"overview/#learning-objectives","title":"Learning Objectives","text":"<p>In this lab you will learn how to: </p> <ul> <li> <p>Provision a Virtual Machine (VM) with 9800-CL in CFME </p> </li> <li> <p>Do initial configuration of the WLC</p> </li> <li> <p>License the WLC with Wireless TAC Smart Licensing account</p> </li> </ul>"},{"location":"task1/","title":"Task 1: Provision a Virtual Machine (VM) with 9800-CL in CFME","text":""},{"location":"task1/#getting-started","title":"Getting started","text":"<p>In this task, you will order a new VM and then provision from ISO. The ISO needs to be stored on CXLabs ISO directory. Once the ISO is uploaded, Cloudforms will routinely scan the Datastore and discover your ISO file.  The ISO files can be downloaded from Cisco Software Download.  In this lab we will use 17.15.2 that can be found here: Release IOSXE-17.15.2</p> <p>For detailed information on how to upload your ISO, see the documentation here: Upload ISO If you are not able to access the above link, follow these instructions:</p> <p>1 - Connect to your local Vaas File Server:</p> Site Protocol Hostname BGL SFTP, FTP and TFTP calo-bgl-fs.cisco.com BRU SFTP, FTP and TFTP calo-bru-fs.cisco.com BRU-GDP SFTP, FTP and TFTP calo-bru-gdp-fs.cisco.com DLC SFTP, FTP and TFTP calo-dlc-fs.cisco.com GPK SFTP, FTP and TFTP calo-gpk-fs.cisco.com KRK SFTP, FTP and TFTP calo-krk-fs.cisco.com MXC SFTP, FTP and TFTP calo-mxc-fs.cisco.com RCDN SFTP, FTP and TFTP calo-rcdn-fs.cisco.com RTP SFTP, FTP and TFTP calo-rtp-fs.cisco.com RTP-GDP SFTP, FTP and TFTP calo-rtp-gdp-fs.cisco.com RTP10 SFTP, FTP and TFTP calo-rtp10-fs.cisco.com SYD SFTP, FTP and TFTP calo-syd-fs.cisco.com TKY SFTP, FTP and TFTP calo-tky-fs.cisco.com <p>2 - Login with your CEC (Cisco credentials) using the SFTP protocol (Recommended).</p> <p>3 - Next \"cd\" into the \"iso\" directory and place your file there:</p> <p></p> <p>4 - Once your upload is complete, your ISO should show up in the ISO dropdown in the CloudForms UI that you will choose on Step 2.</p>"},{"location":"task1/#configure-the-vm-settings","title":"Configure the VM settings","text":""},{"location":"task1/#step-1-order-a-new-virtual-machine-in-cfme","title":"Step 1: Order a new Virtual Machine in CFME","text":"<p>a - On the dashboard, click on Provision a VM:</p> <p></p> <p>b - On the following page, click on VMware Provision from ISO:</p> <p></p> <p>c - On the next page click on Order:</p> <p></p> <p>d - Wait a couple of seconds and the next page look like the following:</p> <p></p> <p>e - Scroll down to Service Information and enter the values: </p> <ul> <li>Service Name: 9800-cl_nh_training</li> <li>Service Description: Basic deployment of a WLC 9800-CL</li> <li>Environment: Training (3 Months)</li> </ul> <p>f - In the VM Information section enter these values:</p> Field Value Notes VM Name your-CEC-9800 Wait for the name to be validated Guest OS Type Other Linux 3.x (64-bit) Select ISO Datastore ISO Select ISO File C9800-CL-universalk9.17.15.02.iso Newer ISO files should also work Disk Size 16 Network WLAAAN-BB/39 - This may vary between sites. This example is for BRU (EMEA).  - VLANID must have already been assigned to you. This is the management VLAN of your WLC.  Please contact your lab advocate/proctor for any questions. NIC Driver Type VMXNET3 Number of CPUs 8 Memory 16 GB <p>Should look like this:</p> <p></p> <p>g - Click on the Submit button on the bottom right corner and wait for the following screen to load.</p> <p></p>"},{"location":"task1/#step-2-configure-vm-interfaces","title":"Step 2: Configure VM interfaces","text":"<p>a - Go back to the dashboard and click on Virtual Machines. This is where all provisioned and active VMs must appear. </p> <p></p> <p>Note</p> <p>Do not worry if the VM you just created does not appear on the page. It may take a couple of minutes for the VM to be fully provisioned. </p> <p>You will get an e-mail with a notification that the VM has been created.</p> <p></p> <p>b - On the left side of the screen, click on \"VMs I Own\" to view only all of the VMs you have previously created.    You may need to refresh the page a couple of times until the VM shows up on the list: </p> <p></p> <p>c - Once the VM appears on the list, wait until its Power State is on. at this point you will need to power it off to add more interfaces.   Select the VM recently created &gt; Power &gt; Power Off. Confirm the action on the small message bar shown at the top and refresh the page until the VM appears turned off.</p> <p></p> <p>d - So far, the WLC created only has one network interface (GigabitEthernet1). The Catalyst 9800-CL maps the GigabitEthernet network interfaces to the logical vNIC name assigned by the VM.  The VM in turn maps the logical vNIC name to a physical MAC address.</p> <p>When the Catalyst 9800-CL is booted for the first time, the interfaces are mapped to the logical vNIC interfaces that were added when the VM was created.   The figure below shows the relationship between the vNICs and the Catalyst 9800-CL interfaces.</p> <p></p> <p>By default, the 9800-CL comes with three network interfaces. Below is an example of interface mapping:</p> <ul> <li>GigabitEthernet1 &gt; Device management interface: Map it to the out-of-band management network. This is the equivalent of the service port on the physical appliance.</li> <li>GigabitEthernet2 &gt; Wireless management interface: Map it to the network to reach APs and services. Usually, this interface is a trunk to carry multiple VLANs.</li> <li>GigabitEthernet3 &gt; High Availability interface: Map it to a separate network for peer-to-peer communication for HA SSO. This is the equivalent of the RP port. This port is not needed if HA SSO is not going to be configured.</li> </ul> <p>Note</p> <p>In customer/production deployments we should not connect two interfaces to a single network, as that may cause network loops. When a trunk port is used, you must either prune VLANs from vCenter or have the GigabitEthernet interfaces in a different vSwitch.  In this lab we will add the 3 interfaces so that we have the WLC ready for HA configuration. Please check with your lab proctor/trainer which VLANs to use. </p> <p>e - Click on the three button menu on the upper bar &gt; Modify VM &gt; Add Additional Network.</p> <p></p> <p>Enter these values for vNIC2 (Gi2):</p> <ul> <li>Choose Network: Please check with your lab proctor/trainer which VLANs to use. <ul> <li>For EMEA BRU, type in the same VLANID that was entered on step 1f (WLAAAN-BB/39). </li> <li>For Mex-Wireless, you can use the Network NESTED-ESXI-VM-NETWORK-4095 which acts as a trunk for all VLANS in Mexico CloudForms.</li> </ul> </li> <li>NIC Type: VirtualVmxnet3</li> </ul> <p>Click on Submit and wait for a success message to appear on the screen that says the Order Request was Submitted.</p> <p></p> <p>Enter these values for vNIC3 (Gi3):</p> <ul> <li>Choose Network: Please check with your lab proctor/trainer which VLANs to use. If not used, ensure to keep it admin disabled.<ul> <li>For EMEA BRU, type in the Personal VLANID that was assigned to you by CXLabs (WIRELESS/14xx).</li> <li>For Mex-Wireless, use VLAN 2699 as the reserved RP VLAN. </li> </ul> </li> <li>NIC Type: VirtualVmxnet3</li> </ul> <p>Click on Submit and wait for a success message to appear on the screen that says the Order Request was Submitted. </p> <p>f - When you are done, the WLC must have three network interfaces. To verify, scroll down to the VM custom attributes:</p> <p></p> <p>In case you need to change the VLANs to which interface belongs, click on three-button menu at the top &gt; Modify VM &gt; Change Network.</p> <p></p> <p>Click on the dropdown menu at NIC To Change, you must see all three network adapters listed. If not, click on the refresh button beside the dropdown menu until they all appear listed. Change to the desired network and click on Submit.</p> <p></p>"},{"location":"task1/#step-3-inital-boot-of-the-new-virtual-machine-vm","title":"Step 3: Inital Boot of the new Virtual Machine (VM)","text":"<p>a - Turn on the VM. Click on Power &gt; Power On. Confirm the pop-up message that appears. Refresh the page until the Power State is set to on.</p> <p></p> <p>b - Open the VRMC Console. </p> <p></p> <p>Warning</p> <p>A console viewer must be installed in order to proceed. This is indicated in the requirements section at the beginning of the document.   Accept the first pop-up that appears on the screen and ensure there are no pop-up blockers and accept the second one.</p> <p>Wait for the console of the WLC to finish booting. A VM window must open that shows the console of the WLC booting. Example:</p> <p></p> <p>Click on the window and wait until the Day 0 config is prompted and enter \"no\". Then, type in \"yes\" to terminate auto-install. </p> <p>At this point you will be asked to create a shared secret. You have to comply with password policy.  Suggested password: Wireless123#. After confirming the enable secret you will be asked an option.  Enter 2 and press Enter:</p> <p></p> <p>Press Enter a couple of times and the console must be up and ready.</p> <p></p> <p>Tip</p> <p>In order to exit the console, press Ctrl + Alt at the same time.</p> <p>The 9800-CL is now successfully created. As of right now, there is no configuration on it, as the Day 0 Wizard was cancelled.  The next task shows the basic configuration needed for the 9800.</p>"},{"location":"task2/","title":"Task 2: Configure the basic 9800-CL settings","text":""},{"location":"task2/#enter-subtitle-here","title":"Enter subtitle here","text":""},{"location":"task2/#step-1","title":"Step 1:","text":""},{"location":"task2/#step-2","title":"Step 2:","text":""},{"location":"task3/","title":"Task 3: Save configuration and upgrade the WLC","text":""},{"location":"task3/#save-and-store-configuration","title":"Save and store configuration","text":""},{"location":"task3/#step-1","title":"Step 1:","text":""},{"location":"task3/#step-2","title":"Step 2:","text":""},{"location":"task3/#upgrade-the-wlc","title":"Upgrade the WLC","text":""},{"location":"task3/#step-1_1","title":"Step 1:","text":""},{"location":"task3/#step-2_1","title":"Step 2:","text":""},{"location":"task4/","title":"Task 4: License the WLC","text":""},{"location":"task4/#enter-subtitle-here","title":"Enter subtitle here","text":""},{"location":"task4/#step-1","title":"Step 1:","text":""},{"location":"task4/#step-2","title":"Step 2:","text":""}]}